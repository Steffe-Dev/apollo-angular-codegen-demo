<form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">
  <div class="flex justify-between">
    <h3 class="text-lg font-light italic">Create Review</h3>
    @if (submitResult()) {
    <div [ngClass]="submitResult()?.success ? 'text-green-500' : 'text-red-500'">
      <p>{{ submitResult()?.message }}</p>
    </div>
    }
  </div>
  <div>
    <textarea
      id="comment"
      rows="3"
      formControlName="comment"
      class="w-full rounded-md p-2"
      placeholder="Write your review here..."
      [ngClass]="{
        'border-red-500 border-2': submitted() && form.controls.comment.hasError('required')
      }"
    ></textarea>
  </div>
  <div class="flex gap-2">
    <label class="font-bold text-sm" for="rating">Rating:</label>
    <input id="rating" type="radio" value="1" formControlName="rating" />
    <input id="rating" type="radio" value="2" formControlName="rating" />
    <input id="rating" type="radio" value="3" formControlName="rating" />
    <input id="rating" type="radio" value="4" formControlName="rating" />
    <input id="rating" type="radio" value="5" formControlName="rating" defaultChecked />
    <span class="font-bold text-sm">{{ form.controls.rating.value }} / 5</span>
  </div>
  <button type="submit" class="border border-slate-700 w-fit px-4 py-1 rounded-md mx-auto">
    Submit
  </button>
</form>
